# import os
# import torch

# # ========== 路径配置 ==========
# INPUT_DIR = "data"
# INTERMEDIATE_PATH = "data/intermediate"
# OUTPUT_PATH = "data/output"

# # 创建目录（确保路径存在）
# os.makedirs(INTERMEDIATE_PATH, exist_ok=True)
# os.makedirs(OUTPUT_PATH, exist_ok=True)

# # ========== 抽样配置 ==========
# SAMPLING_ENABLE = False
# SAMPLE_RATIO = 0.01
# MAX_SAMPLE_COUNT = 10000

# # ========== 批量配置 ==========
# BATCH_SIZE_PREPROCESS = 1024
# BATCH_SIZE_PERPLEXITY = 32
# BATCH_SIZE_MINHASH = 5000

# # ========== 基础过滤配置 ==========
# MIN_CHAR_LEN = 8
# MAX_CHAR_LEN = 12000
# MAX_SEQ_LENGTH = 512

# # ========== 去重配置 ==========
# MINHASH_NUM_PERM = 128
# LSH_THRESHOLD = 0.76  # 语义去重阈值

# # ========== 模型配置 ==========
# MODEL_ID = "uer/gpt2-chinese-cluecorpussmall"
# DEVICE = torch.device("cuda:0" if torch.cuda.is_available() else "cpu")

# # ========== 筛选关键词配置 ==========
# # 1. 口语关键词（60+个）
# COLLOQUIAL_WORDS = [
#     "卧槽", "牛逼", "哈哈哈", "嘻嘻", "嘿嘿", "老铁", "懂吧", "给力", "666", "yyds",
#     "绝绝子", "家人们", "谁懂啊", "救命", "哭死", "笑不活", "栓Q", "拿捏", "破防", "躺平",
#     "绝了", "无语", "服了", "凑活", "咋整", "唠嗑", "侃大山", "扯犊子", "瞎逼逼", "逼逼赖赖",
#     "磨磨唧唧", "叽叽歪歪", "碎碎念", "吐槽", "怼人", "杠精", "内卷", "摆烂", "摸鱼", "划水",
#     "打工人", "干饭人", "尾款人", "工具人", "冤种", "显眼包", "社恐", "社牛", "社死", "emo",
#     "佛系", "卷王", "摆烂式", "摸鱼式", "划水式", "躺平式", "敷衍式", "糊弄学", "PUA", "CPU",
#     "KTV", "awsl", "YYDS", "拿捏了", "破防了"
# ]

# # 2. 敏感话题关键词（覆盖5大类）
# SENSITIVE_KEYWORDS = {
#     "色情相关": [
#         "色情", "黄色", "裸聊", "性交易", "嫖娼", "卖淫", "淫荡", "色情视频", "色情图片", "AV",
#         "三级片", "春宫", "艳照", "露骨", "性行为", "性器官", "手淫", "包养", "小三", "二奶",
#         "情夫", "情妇", "不正当关系", "一夜情", "约炮", "性服务", "色情直播", "色情小说"
#     ],
#     "暴力相关": [
#         "杀人", "抢劫", "强奸", "绑架", "斗殴", "故意伤害", "杀人放火", "爆炸", "投毒",
#         "凶器", "枪支", "弹药", "管制刀具", "暴力", "血腥", "恐怖", "虐杀", "虐待", "施暴",
#         "殴打", "群殴", "互殴", "寻衅滋事", "聚众斗殴", "故意杀人", "抢劫财物"
#     ],
#     "毒品相关": [
#         "毒品", "大麻", "海洛因", "冰毒", "可卡因", "摇头丸", "K粉", "鸦片", "吗啡", "杜冷丁",
#         "吸毒", "贩毒", "制毒", "吸毒者", "毒贩", "毒品交易", "毒品运输", "毒品走私"
#     ],
#     "政治敏感": [
#         "敏感政治人物", "政治敏感事件", "颠覆", "分裂", "叛国", "暴动", "骚乱", "非法集会",
#         "反动", "反政府", "反社会", "极端主义", "恐怖主义", "邪教", "法轮功", "台独", "港独", "疆独"
#     ],
#     "其他敏感": [
#         "赌博", "诈骗", "传销", "非法集资", "洗钱", "偷税漏税", "贪污腐败", "行贿受贿",
#         "假币", "非法交易", "黑客", "入侵", "病毒", "盗号", "诈骗短信", "诈骗电话"
#     ]
# }

# # 3. 学术特征模式（用于检测学术价值）
# ACADEMIC_PATTERNS = [
#     r"[A-Za-z0-9]=.*[A-Za-z0-9]",  # 公式
#     r"定义[:：]", r"定理", r"公理", r"命题", r"推论", r"原理", r"方法", r"实验", r"分析", r"结论",
# ]
# ACADEMIC_REQUIRE = False  # 是否强制要求学术特征

# # ========== 古文检测配置 ==========
# # 古文核心特征词（虚词、朝代、典籍等）
# CLASSIC_CHINESE_WORDS = [
#     # 虚词
#     '之', '乎', '者', '也', '曰', '吾', '汝', '尔', '乃', '兮', '矣', '哉', '耶', '欤', '焉', '其', '而', '以', '于',
#     # 代词/名词
#     '夫', '盖', '则', '且', '若', '何', '孰', '安', '孰与', '所以', '所', '可', '能', '必', '当', '应',
#     # 历史朝代/人物
#     '夏', '商', '周', '秦', '汉', '魏', '蜀', '吴', '晋', '隋', '唐', '宋', '元', '明', '清',
#     '黄帝', '炎帝', '尧', '舜', '禹', '汤', '文王', '武王', '周公', '孔子', '孟子', '老子', '庄子', '墨子', '荀子', '韩非子',
#     # 经典典籍
#     '《论语》', '《孟子》', '《大学》', '《中庸》', '《诗经》', '《尚书》', '《礼记》', '《周易》', '《春秋》',
#     '《道德经》', '《庄子》', '《墨子》', '《荀子》', '《韩非子》', '《史记》', '《汉书》', '《后汉书》', '《三国志》',
#     # 古文句式特征词
#     '呜呼', '嗟夫', '盖闻', '窃以为', '臣闻', '圣王', '贤君', '忠臣', '义士', '孝子', '烈女'
# ]

# # 现代文强特征词（快速排除非古文）
# MODERN_CHINESE_WORDS = [
#     "手机", "互联网", "电脑", "微信", "支付宝", "快递", "高铁", "空调", "电视", "网络", "APP",
#     "微博", "抖音", "快手", "直播", "电商", "网购", "外卖", "打车", "共享单车", "5G", "WiFi"
# ]

# # 古文特征密度阈值
# CLASSIC_DENSITY_THRESHOLD = 0.02

# # ========== 困惑度筛选配置 ==========
# # 分位数配置（确保50%保留率）
# MODERN_PERPLEXITY_PERCENTILE = 75  # 现代文取75%分位数（低困惑度）
# CLASSIC_PERPLEXITY_PERCENTILE = 10  # 古文取10%分位数（高困惑度）
# PERPLEXITY_MAX_LIMIT = 15000  # 异常值过滤上限

import os
import torch

# ========== 路径配置 ==========
INPUT_DIR = "data"
INTERMEDIATE_PATH = "data/intermediate"
OUTPUT_PATH = "data/output"

# 创建目录（确保目录存在）
os.makedirs(INTERMEDIATE_PATH, exist_ok=True)
os.makedirs(OUTPUT_PATH, exist_ok=True)

# ========== 抽样配置 ==========
SAMPLING_ENABLE = True
SAMPLE_RATIO = 0.01
MAX_SAMPLE_COUNT = 10000

# ========== 批量配置 ==========
BATCH_SIZE_PREPROCESS = 1024
BATCH_SIZE_PERPLEXITY = 32
BATCH_SIZE_MINHASH = 5000

# ========== 数据过滤基础配置 ==========
MIN_CHAR_LEN = 8
MAX_CHAR_LEN = 12000
MAX_SEQ_LENGTH = 512

# ========== 去重配置 ==========
MINHASH_NUM_PERM = 128
LSH_THRESHOLD = 0.76  # 语义去重阈值

# ========== 模型配置 ==========
MODEL_ID = "uer/gpt2-chinese-cluecorpussmall"
DEVICE = torch.device("cuda:0" if torch.cuda.is_available() else "cpu")

# ========== 筛选关键词配置 ==========
# 口语关键词（扩充至80+）
COLLOQUIAL_WORDS = [
    # 原有关键词
    "卧槽", "牛逼", "哈哈哈", "嘻嘻", "嘿嘿", "老铁", "懂吧", "给力", "666", "yyds",
    "绝绝子", "家人们", "谁懂啊", "救命", "哭死", "笑不活", "栓Q", "拿捏", "破防", "躺平",
    # 新增口语/网络流行语
    "绝了", "无语", "服了", "凑活", "咋整", "唠嗑", "侃大山", "扯犊子", "瞎逼逼", "逼逼赖赖",
    "磨磨唧唧", "叽叽歪歪", "碎碎念", "吐槽", "怼人", "杠精", "内卷", "躺平", "摆烂", "摸鱼",
    "划水", "打工人", "干饭人", "尾款人", "工具人", "冤种", "显眼包", "社恐", "社牛", "社死",
    "emo", "佛系", "卷王", "摆烂式", "摸鱼式", "划水式", "躺平式", "敷衍式", "糊弄学", "PUA",
    "CPU", "KTV", "yyds", "awsl", "绝绝子", "YYDS", "绝绝子", "栓Q", "拿捏了", "破防了"
]

# 敏感话题关键词
SENSITIVE_KEYWORDS = {
    "色情相关": [
        "色情", "黄色", "裸聊", "性交易", "嫖娼", "卖淫", "淫荡", "色情视频", "色情图片", "AV",
        "三级片", "春宫", "艳照", "露骨", "性行为", "性器官", "手淫", "嫖娼", "包养", "小三",
        "二奶", "情夫", "情妇", "不正当关系", "一夜情", "约炮", "性服务", "色情直播", "色情小说"
    ],
    "暴力相关": [
        "杀人", "抢劫", "强奸", "绑架", "斗殴", "斗殴", "故意伤害", "杀人放火", "爆炸", "投毒",
        "凶器", "枪支", "弹药", "管制刀具", "暴力", "血腥", "恐怖", "虐杀", "虐待", "施暴",
        "殴打", "群殴", "互殴", "寻衅滋事", "聚众斗殴", "故意伤害", "故意杀人", "抢劫财物"
    ],
    "毒品相关": [
        "毒品", "大麻", "海洛因", "冰毒", "可卡因", "摇头丸", "K粉", "鸦片", "吗啡", "杜冷丁",
        "吸毒", "贩毒", "制毒", "吸毒者", "毒贩", "毒品交易", "毒品运输", "毒品走私"
    ],
    "政治敏感": [
        "敏感政治人物", "政治敏感事件", "颠覆", "分裂", "叛国", "暴动", "骚乱", "非法集会",
        "反动", "反政府", "反社会", "极端主义", "恐怖主义", "邪教", "法轮功", "台独", "港独", "疆独"
    ],
    "其他敏感": [
        "赌博", "诈骗", "传销", "非法集资", "洗钱", "偷税漏税", "贪污腐败", "行贿受贿",
        "假币", "非法交易", "黑客", "入侵", "病毒", "盗号", "诈骗短信", "诈骗电话"
    ]
}

# 学术特征模式
ACADEMIC_PATTERNS = [
    r"[A-Za-z0-9]=.*[A-Za-z0-9]",  # 公式
    r"定义[:：]", r"定理", r"公理", r"命题", r"推论", r"原理", r"方法", r"实验", r"分析", r"结论",
]
ACADEMIC_REQUIRE = False

# ========== 古文检测配置 ==========
CLASSIC_CHINESE_WORDS = [
    # 虚词（核心）
    '之', '乎', '者', '也', '曰', '吾', '汝', '尔', '乃', '兮', '矣', '哉', '耶', '欤', '焉', '其', '而', '以', '于',
    # 代词/名词
    '夫', '盖', '则', '且', '若', '何', '孰', '安', '孰与', '所以', '所', '可', '能', '必', '当', '应',
    # 历史朝代/人物
    '夏', '商', '周', '秦', '汉', '魏', '蜀', '吴', '晋', '隋', '唐', '宋', '元', '明', '清',
    '黄帝', '炎帝', '尧', '舜', '禹', '汤', '文王', '武王', '周公', '孔子', '孟子', '老子', '庄子', '墨子', '荀子', '韩非子',
    # 经典典籍
    '《论语》', '《孟子》', '《大学》', '《中庸》', '《诗经》', '《尚书》', '《礼记》', '《周易》', '《春秋》',
    '《道德经》', '《庄子》', '《墨子》', '《荀子》', '《韩非子》', '《史记》', '《汉书》', '《后汉书》', '《三国志》',
    # 古文句式特征词
    '呜呼', '嗟夫', '盖闻', '窃以为', '臣闻', '圣王', '贤君', '忠臣', '义士', '孝子', '烈女'
]

MODERN_CHINESE_WORDS = [
    "手机", "互联网", "电脑", "微信", "支付宝", "快递", "高铁", "空调", "电视", "网络", "APP",
    "微博", "抖音", "快手", "直播", "电商", "网购", "外卖", "打车", "共享单车", "5G", "WiFi"
]

CLASSIC_CHINESE_DENSITY_THRESHOLD = 0.02  # 古文特征词密度阈值

# ========== 困惑度筛选配置 ==========
MODERN_PERPLEXITY_PERCENTILE = 6  # 75%分位数（对应percentiles数组索引）
CLASSIC_PERPLEXITY_PERCENTILE = 1  # 10%分位数（对应percentiles数组索引）
PERCENTILES = [0, 10, 20, 25, 30, 50, 75, 90, 95, 100]
MAX_MODERN_PERPLEXITY = 5000  # 现代文最大困惑度阈值
MAX_CLASSIC_PERPLEXITY = 10000  # 古文最大困惑度阈值